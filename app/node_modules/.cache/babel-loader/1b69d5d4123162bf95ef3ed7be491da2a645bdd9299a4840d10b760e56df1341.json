{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bhoomikhurana/alzheimers-disease-detection/app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/bhoomikhurana/alzheimers-disease-detection/app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/bhoomikhurana/alzheimers-disease-detection/app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import axios from'axios';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Feature(){var inputRef=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),file=_useState2[0],setFile=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),response=_useState4[0],setResponse=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var handleChange=function handleChange(event){setFile(event.target.files[0]);};var uploadFile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var formData,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(file){_context.next=3;break;}alert(\"Please select a file\");return _context.abrupt(\"return\");case 3:setLoading(true);setResponse(null);formData=new FormData();formData.append(\"file\",file);_context.prev=7;_context.next=10;return axios.post(\"http://localhost:8000/upload\",formData);case 10:res=_context.sent;setResponse(\"Prediction Response - \"+res.data.message);_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](7);console.log(_context.t0);setResponse(\"An unknown error occured\");case 18:_context.prev=18;setLoading(false);setFile(null);inputRef.current.value=\"\";return _context.finish(18);case 23:case\"end\":return _context.stop();}},_callee,null,[[7,14,18,23]]);}));return function uploadFile(){return _ref.apply(this,arguments);};}();var getFileData=function getFileData(){if(file){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"File Details:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"File Name: \",file.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"File Type: \",file.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Last Modified:\",\" \",file.lastModifiedDate.toDateString()]})]});}else{return/*#__PURE__*/_jsx(_Fragment,{});}};return/*#__PURE__*/_jsxs(\"section\",{id:\"feature\",className:\"flex flex-col items-center justify-center gap-12 p-20 pb-[250px]\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center font-bold text-5xl lg:text-start\",children:\"Our AI Service\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-2xl lg:text-start\",children:\"Upload your MRI scanned Images here\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center gap-12 lg:flex-row\",children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"file\",accept:\"image/png, image/jpg, image/jpeg\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-textBlue text-white font-bold w-32 p-2 rounded-2xl hover:bg-sky-700 ease-in-out duration-500\",onClick:uploadFile,children:\"Upload\"})]}),getFileData(),loading&&/*#__PURE__*/_jsx(Spinner,{}),response&&/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-center text-[30px]\",children:response})]});}","map":{"version":3,"names":["React","useRef","useState","axios","Spinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Feature","inputRef","_useState","_useState2","_slicedToArray","file","setFile","_useState3","_useState4","response","setResponse","_useState5","_useState6","loading","setLoading","handleChange","event","target","files","uploadFile","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","res","wrap","_callee$","_context","prev","next","alert","abrupt","FormData","append","post","sent","data","message","t0","console","log","current","value","finish","stop","apply","arguments","getFileData","children","name","type","lastModifiedDate","toDateString","id","className","ref","accept","onChange","onClick"],"sources":["/Users/bhoomikhurana/alzheimers-disease-detection/app/src/components/Feature.jsx"],"sourcesContent":["\nimport React, { useRef, useState } from 'react'\nimport axios from 'axios';\nimport Spinner from './Spinner';\n\nexport default function Feature() {\n\n    const inputRef = useRef()\n\n    const [file,setFile] = useState();\n    const [response,setResponse] = useState();\n    const [loading,setLoading] = useState(false);\n\n    const handleChange = event => {\n        setFile(event.target.files[0])\n        \n    };\n \n    const uploadFile = async () => {\n\n        if (!file){\n            alert(\"Please select a file\")\n            return \n        }\n\n        setLoading(true);\n        setResponse(null);\n\n        const formData = new FormData();\n        formData.append(\n            \"file\",\n            file\n        );\n\n        try {\n            const res = await axios.post(\"http://localhost:8000/upload\", formData);\n            setResponse(\"Prediction Response - \" + res.data.message)\n            \n        } catch (error) {\n            console.log(error)\n            setResponse(\"An unknown error occured\")\n        }\n        finally{\n            setLoading(false);\n            setFile(null);\n            inputRef.current.value = \"\"\n        }\n    };\n \n    \n    const getFileData = () => {\n \n        if (file) {\n \n            return (\n                <div>\n                    <h2>File Details:</h2>\n                    <p>File Name: {file.name}</p>\n \n                    <p>File Type: {file.type}</p>\n \n                    <p>\n                        Last Modified:{\" \"}\n                        {file.lastModifiedDate.toDateString()}\n                    </p>\n \n                </div>\n            );\n        } else {\n            return (\n                <></>\n            );\n        }\n    };    \n    \n  return (\n    <section id='feature' className='flex flex-col items-center justify-center gap-12 p-20 pb-[250px]'>\n        <h1 className='text-center font-bold text-5xl lg:text-start'>Our AI Service</h1>\n\n        <p className='text-center text-2xl lg:text-start'>Upload your MRI scanned Images here</p>\n\n        <div className='flex flex-col items-center gap-12 lg:flex-row'>\n            <input ref={inputRef} type=\"file\" accept=\"image/png, image/jpg, image/jpeg\" onChange={handleChange}/>\n            <button className='bg-textBlue text-white font-bold w-32 p-2 rounded-2xl hover:bg-sky-700 ease-in-out duration-500' onClick={uploadFile}>Upload</button>\n        </div>\n        {getFileData()}\n        {loading && <Spinner/>}\n        {response && <div className='font-bold text-center text-[30px]'>{response}</div>}\n    </section>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}